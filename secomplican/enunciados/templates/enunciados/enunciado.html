{% extends "base.html" %}
{% block content %}

{% load urls_conjuntos %}
{% load urls_enunciados %}
{% load static %}

<script src="https://cdn.jsdelivr.net/npm/js-cookie@beta/dist/js.cookie.min.js"></script>
<script type="text/javascript" src="{% static 'enunciados/votos.js' %}"></script>

{% include "enunciados/header_enunciado.html" %}

<a class="mr-3"
    href="{% url_editar_enunciado materia_carrera enunciado %}">
    <span class="fas fa-pen"></span> Editar
</a>
<a href="{% url_versiones_enunciado materia_carrera enunciado %}">
    <span class="fas fa-undo"></span> Versiones anteriores
</a>

<h2 class="mt-4"> Soluciones </h2>
<hr>
{% for solucion, voto in soluciones_con_votos %}

    <div class="row mb-3">
        <div class="col-auto">
            <div
                id="votar-arriba-{{ solucion.id }}"
                onclick="apretarFlechaArriba({{ solucion.id }})"
                {% if voto and voto.positivo %}
                    style="cursor: pointer;"
                    class="text-primary"
                    data-activo=""
                {% else %}
                    style="cursor: pointer; color: lightgray;"
                {% endif %}>
                <span class="fas fa-caret-up col-md-1 fa-2x"></span>
            </div>
            <div id='puntos-{{ solucion.id }}' class="text-center"
                style="font-size: 1.3em;">
                {{ solucion.puntos }}
            </div>
            <div id="votar-abajo-{{ solucion.id }}"
                onclick="apretarFlechaAbajo({{ solucion.id }})"
                {% if voto and not voto.positivo %}
                    style="cursor: pointer;"
                    class="text-primary"
                    data-activo=""
                {% else %}
                    style="cursor: pointer; color: lightgray;"
                {% endif %}>
                <span class="fas fa-caret-down col-md-1 fa-2x"></span>
            </div>
        </div>
        <div class="col">
            {{ solucion|linebreaks }}
        </div>
    </div>
    {% include 'enunciados/acciones_solucion.html' %}
    <hr>
{% empty %}
    <p>Todavía no hay soluciones.</p>
{% endfor %}

<a class="btn btn-primary mb-4 font-weight-bold" href="{{ url_agregar_solucion }}">
    + Agregar solución
</a>

{% endblock %}
